<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }
        #attribution, #attribution a {
            color: #999;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">Sorry, please try again.</span>
                            <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div id="attribution">
        Protected by <a href="https://www.maxlaumeister.com/pagecrypt/">PageCrypt</a>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
